<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }
        #attribution, #attribution a {
            color: #999;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">Sorry, please try again.</span>
                            <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div id="attribution">
        Protected by <a href="https://www.maxlaumeister.com/pagecrypt/">PageCrypt</a>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
